{"version":3,"file":"realtime-BHE_6RdY.js","sources":["../../../../frontend/src/composables/realtime.js"],"sourcesContent":["import { reactive } from \"vue\"\n\nconst subscribed = reactive({})\n\nexport function useListUpdate(socket, doctype, callback) {\n\tsubscribe(socket, doctype)\n\tsocket.on(\"list_update\", (data) => {\n\t\tif (data.doctype == doctype) {\n\t\t\tcallback(data.name)\n\t\t}\n\t})\n}\n\nfunction subscribe(socket, doctype) {\n\tif (subscribed[doctype]) return\n\n\tsocket.emit(\"doctype_subscribe\", doctype)\n\tsubscribed[doctype] = true\n}\n"],"names":["subscribed","reactive","useListUpdate","socket","doctype","callback","subscribe","data"],"mappings":"4CAEA,MAAMA,EAAaC,EAAS,CAAE,CAAA,EAEvB,SAASC,EAAcC,EAAQC,EAASC,EAAU,CACxDC,EAAUH,EAAQC,CAAO,EACzBD,EAAO,GAAG,cAAgBI,GAAS,CAC9BA,EAAK,SAAWH,GACnBC,EAASE,EAAK,IAAI,CAEnB,CAAA,CACF,CAEA,SAASD,EAAUH,EAAQC,EAAS,CAC/BJ,EAAWI,CAAO,IAEtBD,EAAO,KAAK,oBAAqBC,CAAO,EACxCJ,EAAWI,CAAO,EAAI,GACvB"}