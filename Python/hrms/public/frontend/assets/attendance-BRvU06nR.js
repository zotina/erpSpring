import{N as n}from"./frappe-ui-Cee7Yz-T.js";import{k as s,e as r}from"./index-67wm3rxu.js";const o=t=>{const e=s(t.from_date).format("D MMM"),a=t.to_date?s(t.to_date).format("D MMM"):"Ongoing";return e==a?e:`${e} - ${a}`},m=t=>{if(!t.to_date)return null;const e=s(t.to_date),a=s(t.from_date);return e.diff(a,"d")+1},i=t=>{const e=s(t.start_date).format("D MMM"),a=t.end_date?s(t.end_date).format("D MMM"):"Ongoing";return e==a?e:`${e} - ${a}`},f=t=>{if(!t.end_date)return null;const e=s(t.end_date),a=s(t.start_date);return e.diff(a,"d")+1},p=t=>t.start_time.split(":").slice(0,2).join(":")+" - "+t.end_time.split(":").splice(0,2).join(":"),d=t=>t.map(e=>(e.doctype="Shift Request",e.shift_dates=o(e),e.total_shift_days=m(e),e)),l=n({url:"hrms.api.get_attendance_requests",params:{employee:r.data.name,limit:10},auto:!0,cache:"hrms:my_attendance_requests",transform(t){return c(t)}}),c=t=>t.map(e=>(e.doctype="Attendance Request",e.attendance_dates=o(e),e.total_attendance_days=m(e),e)),h=n({url:"hrms.api.get_shift_requests",params:{employee:r.data.name,limit:10},auto:!0,cache:"hrms:my_shift_requests",transform(t){return d(t)}}),y=n({url:"hrms.api.get_shift_requests",params:{employee:r.data.name,approver_id:r.data.user_id,for_approval:1,limit:10},auto:!0,cache:"hrms:team_shift_requests",transform(t){return d(t)}}),g=n({url:"hrms.api.get_attendance_requests",params:{employee:r.data.name,for_approval:1,limit:10},auto:!0,cache:"hrms:team_attendance_requests",transform:t=>c(t)});export{f as a,p as b,h as c,g as d,o as e,m as f,i as g,l as m,y as t};
//# sourceMappingURL=attendance-BRvU06nR.js.map
