import{E as C,r as _,e as F,f as u,j as f,x as e,a3 as D,t as o,k as i,q as n,v as g,F as B,H as A,l as d,a5 as p,n as m,y as N}from"./frappe-ui-Cee7Yz-T.js";import{c as U}from"./index-67wm3rxu.js";import{F as $}from"./workflow-BVhqibwi.js";const j={class:"flex flex-col gap-3 py-4"},M={class:"file-select"},P={class:"text-base font-semibold text-gray-800 pb-4"},q={class:"select-button cursor-pointer"},E={class:"flex flex-col w-full border shadow-sm items-center rounded p-3 gap-2"},I={class:"block text-sm font-normal leading-5 text-gray-700"},H={key:0,class:"w-full"},L={class:"w-full flex flex-col items-center gap-2"},O={class:"flex flex-row items-center justify-between text-gray-700 text-sm"},R=["onClick"],S={class:"text-lg font-bold"},T={class:"font-bold"},z={class:"flex flex-row gap-4"},G={__name:"FileUploaderView",props:{modelValue:{type:Object,required:!0}},emits:["handle-file-select","handle-file-delete"],setup(h,{emit:x}){let a=_(!1),r=_(!1),c=_({});const v=x;function y(t){c.value=t,r.value=!0}function b(t){c.value=t,a.value=!0}function k(){v("handle-file-delete",c.value),a.value=!1}return(t,s)=>{const w=F("Button");return f(),u("div",j,[e("label",M,[e("h2",P,o(t.__("Attachments")),1),e("div",q,[e("div",E,[i(n(g),{name:"upload",class:"h-6 w-6 text-gray-700"}),e("span",I,o(t.__("Upload images or documents")),1)]),e("input",{class:"hidden",ref:"input",type:"file",multiple:"",accept:"*",onChange:s[0]||(s[0]=l=>v("handle-file-select",l))},null,544)])]),h.modelValue.length?(f(),u("div",H,[e("ul",L,[(f(!0),u(B,null,A(h.modelValue,(l,V)=>(f(),u("li",{class:"bg-gray-100 rounded p-2 w-full",key:V},[e("div",O,[e("span",{class:"grow",onClick:J=>y(l)},o(l.file_name||l.name),9,R),i(n(g),{name:"x",class:"h-4 w-4 cursor-pointer text-gray-700",onClick:()=>b(l)},null,8,["onClick"])])]))),128))]),i(n(N),{modelValue:n(a),"onUpdate:modelValue":s[2]||(s[2]=l=>p(a)?a.value=l:a=l)},{"body-title":d(()=>[e("h2",S,o(t.__("Delete Attachment")),1)]),"body-content":d(()=>[e("p",null,[m(o(t.__("Are you sure you want to delete the attachment"))+" ",1),e("span",T,o(n(c).file_name),1),s[4]||(s[4]=m(" ? "))])]),actions:d(()=>[e("div",z,[i(w,{variant:"outline",class:"py-5 w-full",onClick:s[1]||(s[1]=l=>p(a)?a.value=!1:a=!1)},{default:d(()=>[m(o(t.__("Cancel")),1)]),_:1}),i(w,{variant:"solid",theme:"red",onClick:k,class:"py-5 w-full"},{default:d(()=>[m(o(t.__("Delete")),1)]),_:1})])]),_:1},8,["modelValue"]),i(n(U),{ref:"modal","is-open":n(r),onDidDismiss:s[3]||(s[3]=l=>p(r)?r.value=!1:r=!1)},{default:d(()=>[i($,{file:n(c)},null,8,["file"])]),_:1},8,["is-open"])])):D("",!0)])}}},X=C(G,[["__scopeId","data-v-bdd073c8"]]);export{X as default};
//# sourceMappingURL=FileUploaderView-B-HamLML.js.map
