import{I as F,a as R}from"./index-67wm3rxu.js";import{r as V,N as g,w as n,z as m,l as i,q as d,i as u,j as f,k as b,a3 as k}from"./frappe-ui-Cee7Yz-T.js";import w from"./FormView-B2Uh12No.js";import"./FormField-CAm_QixC.js";import"./Link-PW9qmcCL.js";import"./FileUploaderView-B-HamLML.js";import"./workflow-BVhqibwi.js";import"./formatters-Ephtd2vf.js";const B={__name:"AttendanceRequestForm",props:{id:{type:String,required:!1}},setup(c){const s=u("$employee"),p=u("$translate"),l=c,t=V({}),o=g({url:"hrms.api.get_doctype_fields",params:{doctype:"Attendance Request"},auto:!0,transform(e){return l.id?e:e.filter(a=>!["employee","employee_name","status","company"].includes(a.fieldname))}});n(()=>t.value.employee,e=>{l.id&&e!==s.data.name&&_()}),n(()=>t.value.from_date,e=>{t.value.to_date||(t.value.to_date=e)}),n(()=>[t.value.from_date,t.value.to_date],([e,a])=>{y(e,a)}),n(()=>t.value.half_day,e=>{const a=o.data.find(r=>r.fieldname==="half_day_date");a.hidden=!e});function _(){o.data.map(e=>e.read_only=!0)}function y(e,a){if(!(e&&a))return;const r=e>a?p("To Date cannot be before From Date"):"",h=o.data.find(q=>q.fieldname==="from_date");h.error_message=r}function v(){t.value.employee=s.data.name}return(e,a)=>(f(),m(d(F),null,{default:i(()=>[b(d(R),{fullscreen:!0},{default:i(()=>[d(o).data?(f(),m(w,{key:0,doctype:"Attendance Request",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=r=>t.value=r),isSubmittable:!0,fields:d(o).data,id:l.id,onValidateForm:v},null,8,["modelValue","fields","id"])):k("",!0)]),_:1})]),_:1}))}};export{B as default};
//# sourceMappingURL=AttendanceRequestForm-BF_zjftr.js.map
