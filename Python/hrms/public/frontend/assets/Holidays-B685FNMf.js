import{c as B}from"./index-67wm3rxu.js";import{i as _,N as C,c as H,e as M,f as l,j as s,x as e,z as b,a3 as v,t as n,q as t,F as f,H as w,k,v as j,l as N,I as V}from"./frappe-ui-Cee7Yz-T.js";const $={class:"flex flex-col gap-5 w-full"},D={class:"flex flex-row justify-between items-center"},E={class:"text-lg text-gray-800 font-bold"},S={key:0,id:"open-holiday-list",class:"text-sm text-gray-800 font-semibold cursor-pointer underline underline-offset-2"},z={key:0,class:"flex flex-col bg-white rounded"},A={class:"flex flex-row items-center gap-3 grow"},F={class:"text-base font-normal text-gray-800"},I={class:"text-base font-bold text-gray-800"},L={class:"bg-white w-full flex flex-col items-center justify-center pb-5"},q={class:"w-full pt-8 pb-5 border-b text-center"},R={class:"text-gray-900 font-bold text-lg"},U={class:"w-full flex flex-col items-center justify-center gap-5 p-4"},G={class:"flex flex-row items-center gap-3 grow"},J={class:"text-base font-normal text-gray-800"},Q={__name:"Holidays",setup(K){const Y=_("$employee"),m=_("$dayjs"),r=_("$translate"),d=C({url:"hrms.api.get_holidays_for_employee",params:{employee:Y.data.name},auto:!0,transform:i=>i.map(a=>{const c=m(a.holiday_date);return a.is_upcoming=c.isAfter(m()),a.formatted_holiday_date=c.format("ddd, D MMM YYYY"),a})}),u=H(()=>{var a;const i=(a=d.data)==null?void 0:a.filter(c=>c.is_upcoming);return i==null?void 0:i.slice(0,5)});return(i,a)=>{var p,x,y,g,h;const c=M("EmptyState");return s(),l(f,null,[e("div",$,[e("div",D,[e("div",E,n(t(r)("Upcoming Holidays")),1),(x=(p=t(d))==null?void 0:p.data)!=null&&x.length?(s(),l("div",S,n(t(r)("View All")),1)):v("",!0)]),(y=u.value)!=null&&y.length?(s(),l("div",z,[(s(!0),l(f,null,w(u.value,o=>(s(),l("div",{class:"flex flex-row flex-start p-4 items-center justify-between border-b",key:o.holiday_date},[e("div",A,[k(t(j),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",F,n(t(r)(o.description)),1)]),e("div",I,n(o.formatted_holiday_date),1)]))),128))])):(s(),b(c,{key:1,message:t(r)("You have no upcoming holidays")},null,8,["message"]))]),(h=(g=t(d))==null?void 0:g.data)!=null&&h.length?(s(),b(t(B),{key:0,ref:"modal",trigger:"open-holiday-list","initial-breakpoint":1,breakpoints:[0,1]},{default:N(()=>[e("div",L,[e("div",q,[e("span",R,n(t(r)("Holiday List")),1)]),e("div",U,[(s(!0),l(f,null,w(t(d).data,o=>(s(),l("div",{key:o.holiday_date,class:"flex flex-row items-center justify-between w-full"},[e("div",G,[k(t(j),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",J,n(t(r)(o.description)),1)]),e("div",{class:V(["text-base font-bold",o.is_upcoming?"text-gray-800":"text-gray-500"])},n(o.formatted_holiday_date),3)]))),128))])])]),_:1},512)):v("",!0)],64)}}};export{Q as default};
//# sourceMappingURL=Holidays-B685FNMf.js.map
