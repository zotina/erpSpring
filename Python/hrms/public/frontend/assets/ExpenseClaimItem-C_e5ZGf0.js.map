{"version":3,"file":"ExpenseClaimItem-C_e5ZGf0.js","sources":["../../../../frontend/src/components/ExpenseClaimItem.vue"],"sourcesContent":["<template>\n\t<ListItem\n\t\t:isTeamRequest=\"props.isTeamRequest\"\n\t\t:employee=\"props.doc.employee\"\n\t\t:employeeName=\"props.doc.employee_name\"\n\t>\n\t\t<template #left>\n\t\t\t<ExpenseIcon class=\"h-5 w-5 text-gray-500\" />\n\t\t\t<div class=\"flex flex-col items-start gap-1.5\">\n\t\t\t\t<div class=\"text-base font-normal text-gray-800\">\n\t\t\t\t\t{{ claimTitle }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-xs font-normal text-gray-500\">\n\t\t\t\t\t<span>{{ claimDates }}</span>\n\t\t\t\t\t<span class=\"whitespace-pre\"> &middot; </span>\n\t\t\t\t\t<span class=\"whitespace-nowrap\">\n\t\t\t\t\t\t{{ formatCurrency(props.doc.total_claimed_amount, currency) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #right>\n\t\t\t<Badge variant=\"outline\" :theme=\"statusMap[status]\" :label=\"__(status, null, 'Expense Claim')\" size=\"md\" />\n\t\t\t<FeatherIcon name=\"chevron-right\" class=\"h-5 w-5 text-gray-500\" />\n\t\t</template>\n\t</ListItem>\n</template>\n\n<script setup>\nimport { FeatherIcon, Badge } from \"frappe-ui\"\nimport { computed, inject } from \"vue\"\n\nimport ListItem from \"@/components/ListItem.vue\"\nimport ExpenseIcon from \"@/components/icons/ExpenseIcon.vue\"\n\nimport { getCompanyCurrency } from \"@/data/currencies\"\nimport { formatCurrency } from \"@/utils/formatters\"\n\nconst dayjs = inject(\"$dayjs\")\nconst __ = inject(\"$translate\")\nconst props = defineProps({\n\tdoc: {\n\t\ttype: Object,\n\t},\n\tisTeamRequest: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tworkflowStateField: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n})\n\nconst statusMap = {\n\tDraft: \"gray\",\n\tSubmitted: \"blue\",\n\tCancelled: \"red\",\n\tPaid: \"green\",\n\tUnpaid: \"orange\",\n\t\"Approved & Draft\": \"gray\",\n\t\"Approved & Unpaid\": \"orange\",\n\t\"Approved & Submitted\": \"blue\",\n\tRejected: \"red\",\n}\n\nconst status = computed(() => {\n\tif (props.workflowStateField) {\n\t\treturn props.doc[props.workflowStateField]\n\t} else if (\n\t\tprops.doc.approval_status === \"Approved\" &&\n\t\t[\"Draft\", \"Unpaid\", \"Submitted\"].includes(props.doc.status)\n\t) {\n\t\treturn `${props.doc.approval_status} & ${props.doc.status}`\n\t} else if (props.doc.approval_status === \"Rejected\") {\n\t\treturn \"Rejected\"\n\t}\n\treturn props.doc.status\n})\n\nconst claimTitle = computed(() => {\n\tlet title = __(props.doc.expense_type)\n\tif (props.doc.total_expenses > 1) {\n\t\ttitle = __(\"{0} & {1} more\", [title, props.doc.total_expenses - 1])\n\t}\n\treturn title\n})\n\nconst claimDates = computed(() => {\n\tif (!props.doc.from_date && !props.doc.to_date)\n\t\treturn dayjs(props.doc.posting_date).format(\"D MMM\")\n\n\tif (props.doc.from_date === props.doc.to_date) {\n\t\treturn dayjs(props.doc.from_date).format(\"D MMM\")\n\t} else {\n\t\treturn `${dayjs(props.doc.from_date).format(\"D MMM\")} - ${dayjs(props.doc.to_date).format(\n\t\t\t\"D MMM\"\n\t\t)}`\n\t}\n})\n\nconst currency = computed(() => getCompanyCurrency(props.doc.company))\n\nconst approvalStatus = computed(() => {\n\treturn props.doc.approval_status === \"Draft\" ? \"Pending\" : props.doc.approval_status\n})\n</script>\n"],"names":["dayjs","inject","__","props","__props","statusMap","status","computed","claimTitle","title","claimDates","currency","getCompanyCurrency"],"mappings":"8nBAsCA,MAAMA,EAAQC,EAAO,QAAQ,EACvBC,EAAKD,EAAO,YAAY,EACxBE,EAAQC,EAcRC,EAAY,CACjB,MAAO,OACP,UAAW,OACX,UAAW,MACX,KAAM,QACN,OAAQ,SACR,mBAAoB,OACpB,oBAAqB,SACrB,uBAAwB,OACxB,SAAU,KACX,EAEMC,EAASC,EAAS,IACnBJ,EAAM,mBACFA,EAAM,IAAIA,EAAM,kBAAkB,EAEzCA,EAAM,IAAI,kBAAoB,YAC9B,CAAC,QAAS,SAAU,WAAW,EAAE,SAASA,EAAM,IAAI,MAAM,EAEnD,GAAGA,EAAM,IAAI,eAAe,MAAMA,EAAM,IAAI,MAAM,GAC/CA,EAAM,IAAI,kBAAoB,WACjC,WAEDA,EAAM,IAAI,MACjB,EAEKK,EAAaD,EAAS,IAAM,CACjC,IAAIE,EAAQP,EAAGC,EAAM,IAAI,YAAY,EACrC,OAAIA,EAAM,IAAI,eAAiB,IAC9BM,EAAQP,EAAG,iBAAkB,CAACO,EAAON,EAAM,IAAI,eAAiB,CAAC,CAAC,GAE5DM,CACR,CAAC,EAEKC,EAAaH,EAAS,IACvB,CAACJ,EAAM,IAAI,WAAa,CAACA,EAAM,IAAI,QAC/BH,EAAMG,EAAM,IAAI,YAAY,EAAE,OAAO,OAAO,EAEhDA,EAAM,IAAI,YAAcA,EAAM,IAAI,QAC9BH,EAAMG,EAAM,IAAI,SAAS,EAAE,OAAO,OAAO,EAEzC,GAAGH,EAAMG,EAAM,IAAI,SAAS,EAAE,OAAO,OAAO,CAAC,MAAMH,EAAMG,EAAM,IAAI,OAAO,EAAE,OAClF,OACH,CAAG,EAEF,EAEKQ,EAAWJ,EAAS,IAAMK,EAAmBT,EAAM,IAAI,OAAO,CAAC,EAE9C,OAAAI,EAAS,IACxBJ,EAAM,IAAI,kBAAoB,QAAU,UAAYA,EAAM,IAAI,eACrE"}